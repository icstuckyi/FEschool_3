<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <script>
      // 지역변수와 전역변수

      // 스코프에 대한 좋은 글
      // https://velog.io/@bico/JavaScript-%EB%A0%89%EC%8B%9C%EC%BB%AC-%EC%8A%A4%EC%BD%94%ED%94%84lexical-scope

      // 블록레벨스코프
      if (true) {
        // for문이어도 마찬가지입니다.
        let x = 10;
        const y = 10;
      }
      console.log(x, y);

      // 밖에 선언된 x는 함수 내부에서도 접근 가능합니다.
      let x = 100;
      function xplus() {
        x = x + 10;
      }

      xplus();
      console.log(x);

      // 함수가 종료된 다음에는 선언된 변수는 휘발됩니다.
      function xplus() {
        let x = 100;
        x = x + 10;
      }

      xplus();
      console.log(x);

      // 함수 안에 함수
      function a() {
        console.log("a 실행");
        function b() {
          console.log("b 실행");
        }
        b();
      }

      a();

      // 화살표 함수
      function 함수1(x, y) {
        return x + y;
      }

      let 함수2 = (x, y) => x + y;

      함수1.name;
      ("함수1");
      함수2.name;
      ("함수2");
      console.dir(함수1);

      function 함수1(x, y) {
        let z = x + y;
        return z;
      }

      let 함수2 = (x, y) => {
        let z = x + y;
        return z;
      };

      // 호이스팅이 다릅니다.

      // 참고자료 : https://hanamon.kr/javascript-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%9D%B4%EB%9E%80-hoisting/
      // JS의 모든 선언은 호이스팅(선언이 먼저 메모리에 저장)이 일어납니다.
      // 그러나 let, const, class 이용한 선언문은 호이스팅이 되었지만 안된 것처럼 동작
      // 이러한 현상은 일시적 사각지대(Temporal Dead Zone)에 빠지기 때문
      // 중요한 포인트는 그렇다하여 호이스팅이 안된 것은 아니라는 것!
      // 오류가 나는 이유는 var 키워드는 선언과 함께 undefined로 초기화
      // let과 const는 초기화 되지 않는 상태로 선언만 메모리 저장
      console.log(add1(10, 20)); // 30
      console.log(add2(10, 20)); // 30
      console.log(mul1); // undefined

      // console.log(mul1(10, 20)); // not a function
      // console.log(mul2); // Cannot access 'mul2' before initialization
      // console.log(mul2(10, 20)); // 위와 같은 애러
      // console.log(mul3) // mul3 is not defined, 호이스팅이 안되었기 때문
      // console.log(test);
      console.log(test2);

      function add1(x, y) {
        return x + y;
      }

      function add2(x, y) {
        return x + y;
      }

      var mul1 = function (a, b) {
        return a * b;
      };

      let mul2 = function (a, b) {
        return a * b;
      };

      // let test = 100;
      // var test2 = 100;
    </script>
  </body>
</html>
